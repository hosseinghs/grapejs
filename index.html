<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>grapejs</title>
    <link rel="stylesheet" href="./plugins/grapejs/grapes.min.css">
    <link rel="stylesheet" href="./style/main.css">
    <script src="./plugins/grapejs/grapes.min.js"></script>
</head>

<body>
    <div id="gjs">
        <h1>Adding Blocks!</h1>
    </div>

    <div id="blocks"></div>
</body>


</html>

<!-- ----------------------------------------------------------------------- -->
<!--       block docs: https://grapesjs.com/docs/api/block.html#block        -->
<!-- ----------------------------------------------------------------------- -->
<script>
    const editor = grapesjs.init({
        // Indicate where to init the editor. You can also pass an HTMLElement
        container: '#gjs',
        // Get the content for the canvas directly from the element
        // As an alternative we could use: `components: '<h1>Hello World Component!</h1>'`,
        fromElement: true,
        // Size of the editor
        height: '300px',
        width: 'auto',
        // Disable the storage manager for the moment
        storageManager: false,
        // Avoid any default panel
        panels: { defaults: [] },

        blockManager: {
            appendTo: '#blocks',
            blocks: [
                {
                    id: 'section', // id is mandatory
                    label: '<b>Section</b>', // You can use HTML/SVG inside labels
                    attributes: { class: 'gjs-block-section hellp' },
                    content: `<section>
                                 <h1>This is a simple title</h1>
                                <div>This is just a Lorem text: Lorem ipsum dolor sit amet</div>
                              </section>`,
                },
                {
                    id: 'text',
                    label: 'Text',
                    content: '<div data-gjs-type="text">Insert your text here</div>',
                },
                {
                    id: 'image',
                    label: 'Image',
                    // Select the component once it's dropped
                    select: false,
                    // You can pass components as a JSON instead of a simple HTML string,
                    // in this case we also use a defined component type `image`
                    content: { type: 'image' },
                    // This triggers `active` event on dropped components and the `image`
                    // reacts by opening the AssetManager
                    activate: true,
                }
            ]
        },
    });


    // add block object to the wrapper:
    // editor.BlockManager.add('block-id', {
    //     label: 'added block',
    //     content: { type: 'image' },
    //     select: true,
    //     activate: true,
    // })

    // uncomment the commented codes and refresh to see the change

    // get the wrapper obj
    const wrapper = editor.DomComponents.getWrapper();
    console.log(wrapper);


</script>