<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>grapejs</title>
    <link rel="stylesheet" href="./plugins/grapejs/grapes.min.css">
    <link rel="stylesheet" href="./style/main.css">
    <script src="./plugins/grapejs/grapes.min.js"></script>
</head>

<body>
    <div class="panel__top">
        <div class="panel__basic-actions"></div>
    </div>
    <div id="gjs">
        <h1>Panels!</h1>
    </div>

    <div id="blocks"></div>
</body>


</html>

<!-- ----------------------------------------------------------------------- -->
<!--         panels docs: https://grapesjs.com/docs/api/panels.html          -->
<!-- ----------------------------------------------------------------------- -->
<script>
    const editor = grapesjs.init({
        // Indicate where to init the editor. You can also pass an HTMLElement
        container: '#gjs',
        // Get the content for the canvas directly from the element
        // As an alternative we could use: `components: '<h1>Hello World Component!</h1>'`,
        fromElement: true,
        // Size of the editor
        height: '300px',
        width: 'auto',
        // Disable the storage manager for the moment
        storageManager: false,
        // Avoid any default panel
        panels: { defaults: [] },

    });


    editor.Panels.addPanel({
        id: 'panel-top',
        el: '.panel__top',
    });
    editor.Panels.addPanel({
        id: 'basic-actions',
        el: '.panel__basic-actions',
        buttons: [
            {
                id: 'visibility',
                active: true, // active by default
                className: 'btn-toggle-borders',
                label: '<u>B</u>',
                command: 'sw-visibility', // Built-in command
            },
            {
                id: 'export',
                className: 'btn-open-export',
                label: 'Exp',
                command: 'export-template',
                context: 'export-template', // For grouping context of buttons from the same panel
            },
            {
                id: 'show-json',
                className: 'btn-show-json',
                label: 'JSON',
                context: 'show-json',
                command: setContent(editor)
            }
        ],
    });

    function setContent(editor) {
        const content = `<textarea style="width:100%; height: 250px;">
                             ${JSON.stringify(editor.getComponents())}
                        </textarea>`

        editor.Modal.setTitle('Components JSON')
            .setContent(content)
            .open();
    }

</script>